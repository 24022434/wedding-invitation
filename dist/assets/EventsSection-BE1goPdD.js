import{c as N,r as g,j as e,R as L,X as E,a as M}from"./index-DXHBFFQm.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],P=N("circle-check-big",z);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],F=N("loader-circle",D);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T=N("map-pin",G);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],v=N("send",O),s={title:"Lễ Nạp Tài",time:"09:00 | Thứ Bảy",date:"27.12.2025",lunarDate:"Tức Ngày 08 Tháng 11 Năm Ất Tỵ",location:"Tại Tư Gia Nhà Gái",dad_name:"Ông Nguyễn Xuân Thuỷ",mon_name:"Bà Bùi Thị Thuỷ",mapUrl:"https://maps.app.goo.gl/gVK1biwa4VhNNuvw9",eventType:"Lễ Nạp Tài"},a={title:"Lễ Thành Hôn",time:"10:00 | Chủ Nhật",date:"28.12.2025",lunarDate:"Tức Ngày 09 Tháng 11 Năm Ất Tỵ",location:"Tại Tư Gia Nhà Trai",dad_name:"Ông Phạm Công Tuyến",mon_name:"Bà Phạm Thị Thu",mapUrl:"https://maps.app.goo.gl/yPQrP3JHqDWSe1Kh9",eventType:"Lễ Cưới"},X=({isOpen:d,onClose:h,eventType:n,eventTitle:p,anchorRef:c})=>{const[l,u]=g.useState({name:"",phone:"",attending:"yes",message:""}),[o,f]=g.useState("idle"),[b,C]=g.useState({top:0,left:0,width:0,height:0});L.useEffect(()=>{if(d&&c.current){const t=c.current.getBoundingClientRect(),i=window.scrollY||document.documentElement.scrollTop,m=window.scrollX||document.documentElement.scrollLeft;C({top:t.top+i,left:t.left+m,width:t.width,height:t.height})}},[d,c]);const k=async t=>{if(t.preventDefault(),o!=="submitting"){f("submitting");try{const i=new Date().toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),m="hidden_iframe_"+Date.now(),x=document.createElement("iframe");x.name=m,x.style.display="none",document.body.appendChild(x);const r=document.createElement("form");r.method="POST",r.action=M,r.target=m;const _={...l,event:n,timestamp:i};Object.entries(_).forEach(([R,S])=>{const j=document.createElement("input");j.type="hidden",j.name=R,j.value=String(S),r.appendChild(j)}),document.body.appendChild(r),r.submit(),setTimeout(()=>{document.body.removeChild(r),document.body.removeChild(x)},2e3),f("success"),u({name:"",phone:"",attending:"yes",message:""})}catch(i){console.error(i),f("error")}}},y=t=>{const{name:i,value:m}=t.target;u(x=>({...x,[i]:m}))},w=()=>{f("idle"),h()};return d?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:w,children:e.jsxs("div",{className:"absolute bg-white rounded-2xl p-6 shadow-2xl",onClick:t=>t.stopPropagation(),style:{top:b.top,left:b.left,width:b.width,minHeight:b.height,animation:"modalPop 0.3s ease-out forwards",overflowY:"auto"},children:[e.jsx("button",{onClick:w,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10",children:e.jsx(E,{size:24})}),e.jsx("h3",{className:"font-serif text-2xl text-wedding-gold text-center mb-2",children:"Xác Nhận Tham Dự"}),e.jsx("p",{className:"text-center text-gray-500 text-sm mb-6",children:p}),o==="success"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[e.jsx(P,{className:"w-16 h-16 text-green-500"}),e.jsx("h4",{className:"text-xl font-bold",children:"Cảm ơn bạn!"}),e.jsx("p",{className:"text-gray-500 text-center",children:"Chúng tôi đã nhận được phản hồi của bạn."}),e.jsx("button",{type:"button",onClick:w,className:"text-wedding-gold underline",children:"Đóng"})]}):e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("input",{type:"text",name:"name",required:!0,value:l.name,onChange:y,placeholder:"Tên của bạn",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-wedding-gold focus:outline-none"}),e.jsx("input",{type:"tel",name:"phone",required:!0,value:l.phone,onChange:y,placeholder:"Số điện thoại",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-wedding-gold focus:outline-none"}),e.jsxs("select",{name:"attending",value:l.attending,onChange:y,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-wedding-gold focus:outline-none",children:[e.jsx("option",{value:"yes",children:"Chắc chắn tham dự"}),e.jsx("option",{value:"maybe",children:"Sẽ báo lại"}),e.jsx("option",{value:"no",children:"Không tham dự"})]}),e.jsx("textarea",{name:"message",rows:3,value:l.message,onChange:y,placeholder:"Lời chúc...",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-wedding-gold focus:outline-none resize-none"}),e.jsx("button",{type:"submit",disabled:o==="submitting",className:"w-full bg-wedding-gold text-white py-3 rounded-lg flex justify-center items-center gap-2 hover:bg-wedding-gold/90 transition-colors disabled:opacity-70",children:o==="submitting"?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"animate-spin",size:20}),"Đang gửi..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{size:20}),"Gửi xác nhận"]})}),o==="error"&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:"Có lỗi xảy ra, vui lòng thử lại."})]})]})}):null},V=()=>{const d=g.useRef(null),h=g.useRef(null),[n,p]=g.useState({isOpen:!1,event:null,anchorRef:null}),c=(u,o)=>{p({isOpen:!0,event:u,anchorRef:o})},l=()=>{p({isOpen:!1,event:null,anchorRef:null})};return e.jsxs("section",{id:"events",className:"py-20 bg-wedding-cream",children:[e.jsx("style",{children:`
                @keyframes modalPop {
                    0% { opacity: 0; transform: scale(0.95); }
                    100% { opacity: 1; transform: scale(1); }
                }
                @keyframes buttonPulse {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.03); }
                }
                .btn-animated {
                    animation: buttonPulse 2s ease-in-out infinite;
                    transition: all 0.2s ease;
                }
                .btn-animated:hover {
                    animation: none;
                    transform: scale(1.05);
                }
                .btn-animated:active {
                    transform: scale(0.98);
                }
            `}),e.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 animate-fade-in-up text-center mb-16",children:[e.jsx("p",{className:"font-sans font-semibold text-sm md:text-base tracking-[0.3em] text-wedding-gold mb-6 uppercase",children:"Trân trọng kính mời"}),e.jsxs("h2",{className:"font-serif text-2xl md:text-3xl text-gray-600 mb-8 px-4 leading-relaxed",children:["Đến dự buổi tiệc chung vui ",e.jsx("br",{}),"cùng gia đình chúng tôi"]})]}),e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[e.jsxs("div",{ref:d,className:"text-center animate-fade-in-up border-2 border-wedding-gold rounded-2xl p-8 bg-[#F8F7F6] hover:shadow-lg transition-shadow duration-300",children:[e.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-gray-800 mb-4 uppercase tracking-wider",children:s.title}),e.jsxs("p",{className:"font-sans text-sm text-gray-500 mb-2",children:["Vào Lúc ",e.jsx("span",{className:"text-gray-700 font-semibold",children:s.time})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 my-6 font-serif text-wedding-gold",children:[e.jsx("span",{className:"text-4xl md:text-5xl font-bold",children:"27"}),e.jsx("div",{className:"w-[1px] h-6 bg-wedding-gold/30"}),e.jsx("span",{className:"text-lg font-semibold",children:"Tháng 12"}),e.jsx("div",{className:"w-[1px] h-6 bg-wedding-gold/30"}),e.jsx("span",{className:"text-lg font-semibold",children:"2025"})]}),e.jsxs("p",{className:"font-sans italic text-gray-500 text-sm mb-6",children:["(",s.lunarDate,")"]}),e.jsxs("div",{className:"border-t border-wedding-gold/20 pt-6",children:[e.jsx("p",{className:"font-sans text-gray-700 text-lg",children:e.jsx("span",{className:"font-bold mb-3",children:"Tiệc Mừng Lễ Vu Quy"})}),e.jsx("p",{className:"font-sans text-sm text-gray-500 mb-4",children:s.location}),e.jsx("p",{className:"font-sans text-gray-700 mb-1",children:s.dad_name}),e.jsx("p",{className:"font-sans text-gray-700 mb-4",children:s.mon_name}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("a",{href:s.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-animated flex-1 flex items-center justify-center gap-2 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 hover:shadow-md",children:[e.jsx(T,{size:18}),"Xem bản đồ"]}),e.jsxs("button",{onClick:()=>c(s,d),className:"btn-animated flex-1 flex items-center justify-center gap-2 py-3 px-4 bg-wedding-gold text-white rounded-lg hover:bg-wedding-gold/90 hover:shadow-md",children:[e.jsx(v,{size:18}),"Xác nhận tham gia"]})]})]})]}),e.jsxs("div",{ref:h,className:"text-center animate-fade-in-up border-2 border-wedding-gold rounded-2xl p-8 bg-[#F8F7F6] hover:shadow-lg transition-shadow duration-300",children:[e.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-gray-800 mb-4 uppercase tracking-wider",children:a.title}),e.jsxs("p",{className:"font-sans text-sm text-gray-500 mb-2",children:["Vào Lúc ",e.jsx("span",{className:"text-gray-700 font-semibold",children:a.time})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 my-6 font-serif text-wedding-gold",children:[e.jsx("span",{className:"text-4xl md:text-5xl font-bold",children:"28"}),e.jsx("div",{className:"w-[1px] h-6 bg-wedding-gold/30"}),e.jsx("span",{className:"text-lg font-semibold",children:"Tháng 12"}),e.jsx("div",{className:"w-[1px] h-6 bg-wedding-gold/30"}),e.jsx("span",{className:"text-lg font-semibold",children:"2025"})]}),e.jsxs("p",{className:"font-sans italic text-gray-500 text-sm mb-6",children:["(",a.lunarDate,")"]}),e.jsxs("div",{className:"border-t border-wedding-gold/20 pt-6",children:[e.jsx("p",{className:"font-sans text-gray-700 text-lg",children:e.jsx("span",{className:"font-bold mb-3",children:"Tiệc Mừng Lễ Thành Hôn"})}),e.jsx("p",{className:"font-sans text-sm text-gray-500 mb-4",children:a.location}),e.jsx("p",{className:"font-sans text-gray-700 mb-1",children:a.dad_name}),e.jsx("p",{className:"font-sans text-gray-700 mb-4",children:a.mon_name}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("a",{href:a.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-animated flex-1 flex items-center justify-center gap-2 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 hover:shadow-md",children:[e.jsx(T,{size:18}),"Xem bản đồ"]}),e.jsxs("button",{onClick:()=>c(a,h),className:"btn-animated flex-1 flex items-center justify-center gap-2 py-3 px-4 bg-wedding-gold text-white rounded-lg hover:bg-wedding-gold/90 hover:shadow-md",children:[e.jsx(v,{size:18}),"Xác nhận tham gia"]})]})]})]})]})}),n.event&&n.anchorRef&&e.jsx(X,{isOpen:n.isOpen,onClose:l,eventType:n.event.eventType,eventTitle:n.event.title,anchorRef:n.anchorRef})]})};export{V as default};
